{% extends "faculty_base.html" %}
{% block title %}Faculty Report | Sootrank{% endblock %}
{% block nav_results_active %} active{% endblock %}

{% block content %}
<div class="text-center mb-4">
  <h1 class="fs-3 fw-bold mb-1">Faculty Report Dashboard</h1>
  <p class="text-muted small mb-0">All courses you are currently teaching.</p>
</div>

<div class="card shadow-sm">
  <div class="table-responsive">
    <table class="table table-hover align-middle mb-0">
      <thead class="table-light">
        <tr>
          <th class="p-3">Course Code</th>
          <th class="p-3">Course Name</th>
          <th class="p-3">Slot</th>
          <th class="p-3">Credits</th>
          <th class="p-3">Enrolled Students</th>
          <th class="p-3 text-center">Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for c in courses %}
        <tr>
          <td class="p-3 fw-semibold">{{ c.course.code }}</td>
          <td class="p-3">{{ c.course.name }}</td>
          <td class="p-3">{{ c.course.slot }}</td>
          <td class="p-3">{{ c.course.credits }}</td>
          <td class="p-3 fw-medium">{{ c.count }}</td>
          <td class="p-3 text-center">
            <a href="{% url 'export_course_excel' c.course.id %}" class="btn btn-sm btn-outline-success">
              <i class="fa-solid fa-file-excel me-1"></i> Excel
            </a>
            <a href="{% url 'export_course_pdf' c.course.id %}" class="btn btn-sm btn-outline-danger ms-1">
              <i class="fa-solid fa-file-pdf me-1"></i> PDF
            </a>
          </td>
        </tr>
        {% empty %}
        <tr><td colspan="6" class="text-center text-muted p-5">No courses found.</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

{% endblock %}
