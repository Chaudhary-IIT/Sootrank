{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Attendance | Sootrank</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { background: #f8faff; font-family: 'Inter', sans-serif; }
    .container { margin-top: 40px; }
    .page-title { color: #2469f0; font-weight: 700; text-align: center; margin-bottom: 1rem; }
    .progress {
      height: 18px; border-radius: 10px; overflow: hidden;
    }
  </style>
</head>
<body>
<div class="container">
  <h2 class="page-title">Attendance Overview</h2>
  <div class="card shadow-sm">
    <div class="card-body">
      <table class="table table-bordered align-middle text-center">
        <thead class="table-primary">
          <tr>
            <th>Course Code</th>
            <th>Course Name</th>
            <th>Attended</th>
            <th>Total</th>
            <th>Attendance %</th>
          </tr>
        </thead>
        <tbody>
        {% for c in attendance_data %}
          <tr>
            <td>{{ c.code }}</td>
            <td>{{ c.course }}</td>
            <td>{{ c.attended }}</td>
            <td>{{ c.total }}</td>
            <td>
              <div class="progress">
                <div class="progress-bar {% if c.percent < 75 %}bg-danger{% else %}bg-success{% endif %}"
                     style="width: {{ c.percent }}%">
                     {{ c.percent }}%
                </div>
              </div>
            </td>
          </tr>
        {% empty %}
          <tr><td colspan="5" class="text-muted">No courses found.</td></tr>
        {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
</body>
</html>
