{% extends "student_base.html" %}

{% block title %}Student Dashboard | Sootrank{% endblock %}
{% block nav_dashboard_active %} active{% endblock %}

{% block content %}

<style>
  :root{
    --radius:12px;
    --shadow-subtle:0 2px 8px rgba(0,0,0,.06);
    --shadow-hover:0 10px 20px rgba(52,152,219,.12);
  }

  /* Cards hover smoothness */
  .card{
    border-radius:var(--radius);
    box-shadow:var(--shadow-subtle);
    border:1px solid #e6ecf1;
    transition:box-shadow .25s ease;
  }
  .card:hover{
    box-shadow:var(--shadow-hover);
  }

  /* Buttons hover smoothness */
  .btn{
    box-shadow:var(--shadow-subtle);
    transition:transform .2s ease, box-shadow .25s ease;
  }
  .btn:hover{
    transform:translateY(-2px);
    box-shadow:var(--shadow-hover);
  }
</style>

<div class="container py-4">

  <!-- Profile Section (fixed width & structure) -->
  <div class="card mb-4">
    <div class="card-body d-flex align-items-center gap-4 p-4">
      <div>
        {% if student.profile_image %}
          <img src="{{ student.profile_image.url }}" alt="Profile" class="rounded-circle" style="width:70px;">
        {% else %}
          <i class="fa-solid fa-user fa-3x text-primary"></i>
        {% endif %}
      </div>
      <div>
        <h2 class="fs-4 fw-bold mb-1">
          {{ student.first_name }} {{ student.last_name|default_if_none:"" }}
        </h2>
        <p class="mb-1">Enrollment No: {{ student.roll_no|upper }}</p>
        <p class="mb-1">Course: {{ student.branch }} ({{ student.department }})</p>
        <p class="mb-2">Semester: {{ computed_semester }}</p>

        <div class="d-flex flex-wrap gap-3">
          <a href="{% url 'student_profile' %}" class="btn btn-warning">My Profile</a>
          <a href="{% url 'registered_courses' %}" class="btn btn-info">Registered Courses</a>
        </div>
      </div>
    </div>
  </div>

  <!-- Registration Section -->
  <div class="card mb-4">
    <div class="card-body p-4">
      <h5 class="fw-semibold mb-3">ðŸ“‘ Registration</h5>
      <div class="d-flex flex-wrap gap-3">
        <a href="{% url 'prereg_page' %}" class="btn btn-primary"><i class="fa fa-edit me-1"></i> Pre-Registration</a>
        <a href="{% url 'check_status_page' %}" class="btn btn-secondary"><i class="fa fa-check-circle me-1"></i> Check Registration Status</a>
      </div>
    </div>
  </div>

  <!-- Results Section -->
  <div class="card mb-4">
    <div class="card-body p-4">
      <h2 class="fs-5 fw-semibold mb-3">ðŸ“Š Results</h2>
      <div class="d-flex gap-3 flex-wrap">
        <a href="{% url 'student_result_semester_list' student.roll_no %}" class="btn btn-primary">
          <i class="fa-solid fa-file-lines me-1"></i> View Results
        </a>
      </div>
    </div>
  </div>

  <!-- Quick Links Section -->
  <div class="card">
    <div class="card-body p-4">
      <h2 class="fs-5 fw-semibold mb-3">ðŸ“Œ Quick Links</h2>
      <div class="row g-3">
        <div class="col-6">
          <a href="{% url 'student_attendance' %}" class="btn btn-secondary w-100">
            <i class="fa-solid fa-user-check me-1"></i> Attendance
          </a>
        </div>
        <div class="col-6">
          <a href="{% url 'timetable' %}" class="btn btn-secondary w-100">
            <i class="fa-solid fa-table-list me-1"></i> Timetable
          </a>
        </div>
        <div class="col-6">
          <a href="{% url 'student_fees' %}" class="btn btn-secondary w-100">
            <i class="fa-solid fa-indian-rupee-sign me-1"></i> Fee Status
          </a>
        </div>
        <div class="col-6">
          <a href="https://academics.iitmandi.ac.in/calendar" class="btn btn-secondary w-100">
            <i class="fa-solid fa-calendar-days me-1"></i> Calendar
          </a>
        </div>
      </div>
    </div>
  </div>

</div>

{% endblock %}
