{% extends "student_base.html" %}

{% block title %}Student Dashboard | Sootrank{% endblock %}
{% block nav_dashboard_active %} active{% endblock %}

{% block content %}
<div class="container py-4">

  <!-- Title -->
  <h1 class="text-center fw-bold mb-5 text-primary">ðŸŽ“ {{ role_label }} Dashboard</h1>

  <!-- Profile Section -->
  <div class="card mb-4 shadow-sm">
    <div class="card-body d-flex align-items-center gap-4 flex-wrap p-4">
      <div class="text-center">
        {% if student.profile_image %}
          <img src="{{ student.profile_image.url }}" alt="Profile" class="rounded-circle border border-2" style="width: 80px; height: 80px; object-fit: cover;">
        {% else %}
          <i class="fa-solid fa-user fa-3x text-primary"></i>
        {% endif %}
      </div>
      <div>
        <h4 class="fw-bold mb-1">{{ student.first_name }} {{ student.last_name|default_if_none:"" }}</h4>
        <p class="mb-1 text-muted">Enrollment No: <strong>{{ student.roll_no|upper }}</strong></p>
        <p class="mb-1 text-muted">Branch: {{ student.branch }} ({{ student.department }})</p>
        <p class="mb-3 text-muted">Semester: {{ student.semester }}</p>

        <div class="d-flex flex-wrap gap-2">
          <a href="{% url 'student_edit_profile' %}" class="btn btn-warning"><i class="fa fa-edit me-1"></i> Edit Profile</a>
          <a href="{% url 'registered_courses' %}" class="btn btn-info text-white"><i class="fa fa-book me-1"></i> Registered Courses</a>
        </div>
      </div>
    </div>
  </div>

  <!-- Registration Section -->
  <div class="card mb-4 shadow-sm">
    <div class="card-body p-4">
      <h5 class="fw-semibold mb-3">ðŸ“‘ Registration</h5>
      <div class="d-flex flex-wrap gap-3">
        <a href="{% url 'prereg_page' %}" class="btn btn-primary"><i class="fa fa-edit me-1"></i> Pre-Registration</a>
        <a href="{% url 'check_status_page' %}" class="btn btn-secondary"><i class="fa fa-check-circle me-1"></i> Check Registration Status</a>
      </div>
    </div>
  </div>

  <!-- Results Section -->
<div class="card mb-4 shadow">
  <div class="card-body p-4">
    <h2 class="fs-5 fw-semibold mb-3">ðŸ“Š Results</h2>
    <div class="d-flex gap-3 flex-wrap">
      <a href="{% url 'student_result_semester_list' student.roll_no %}" class="btn btn-primary">
        <i class="fa-solid fa-file-lines me-1"></i> View Results
      </a>
    </div>
  </div>
</div>

  <!-- Quick Links Section -->
  <div class="card shadow-sm">
    <div class="card-body p-4">
      <h5 class="fw-semibold mb-3">ðŸ“Œ Quick Links</h5>
      <div class="row g-3">
        <div class="col-6 col-md-3">
          <button class="btn btn-outline-secondary w-100">Attendance</button>
        </div>
        <div class="col-6 col-md-3">
          <button class="btn btn-outline-secondary w-100">Fee Status</button>
        </div>
        <div class="col-6 col-md-3">
          <button class="btn btn-outline-secondary w-100">Time Table</button>
        </div>
        <div class="col-6 col-md-3">
          <a href="https://academics.iitmandi.ac.in/calendar" class="btn btn-outline-secondary w-100" target="_blank">
            Academic Calendar
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
