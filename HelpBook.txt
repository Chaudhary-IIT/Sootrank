 1. Clone Repository & Create Virtual Environmen

git clone https://github.com/Chaudhary-IIT/Sootrank
cd Sootrank
python -m venv venv
venv\Scripts\activate

---------------------------------------------------------------------------------------------------------------------

# Updating requirements.txt

pip freeze > requirements.txt

---------------------------------------------------------------------------------------------------------------------

# Installing requirements.txt

pip install -r requirements.txt
---------------------------------------------------------------------------------------------------------------------

# Command for updating Database Schema

python manage.py makemigrations
python manage.py migrate

---------------------------------------------------------------------------------------------------------------------

# Running the app

python manage.py runserver

---------------------------------------------------------------------------------------------------------------------

# Create a PostgreSQL database (through pgAdmin or terminal):

CREATE DATABASE sootrank_db;
CREATE USER sootrank_user WITH PASSWORD 'yourpassword';
ALTER ROLE sootrank_user SET client_encoding TO 'utf8';
ALTER ROLE sootrank_user SET default_transaction_isolation TO 'read committed';
ALTER ROLE sootrank_user SET timezone TO 'UTC';
GRANT ALL PRIVILEGES ON DATABASE sootrank_db TO sootrank_user;

-->then apply migrations

(If permission errors:
    GRANT ALL ON SCHEMA public TO sootrank_user;
    ALTER USER sootrank_user WITH SUPERUSER )
---------------------------------------------------------------------------------------------------------------------

# Create Superuser

python manage.py createsuperuser

---------------------------------------------------------------------------------------------------------------------

# Running Scripts


python manage.py shell
import sys
sys.path.append("Sootrank/scripts")
import orm_scripts
orm_scripts.run()

--------------------------------------------------------------------------------------------------------------------------------

# Fix Permission For Database on PostgreSQL

psql -U postgres -d sootrank_db

GRANT ALL PRIVILEGES ON DATABASE sootrank_db TO sootrank_user;
GRANT ALL ON SCHEMA public TO sootrank_user;
ALTER USER sootrank_user WITH SUPERUSER;


--------------------------------------------------------------------------------------------------------------------------------

# Backup database to file:

python manage.py dumpdata > backup.json

# Restore:

python manage.py loaddata backup.json

----------------------------------------------------------------------------------------------------------------------------------